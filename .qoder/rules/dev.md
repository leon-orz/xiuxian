---
trigger: always_on
---
# 通用开发规范

## 0. 沟通与环境

- 沟通语言: 始终使用中文。
- 操作系统: Windows 11; 路径用反斜杠, 注意权限与大小写。

## 1. 代码风格

- 格式: 2 空格缩进, 行宽 <150。
- 命名: 变量/函数 `camelCase`, 类/组件 `PascalCase`, 文件 `kebab-case`, 常量 `UPPER_SNAKE_CASE`, 布尔值用 `is/has/can`。

## 2. 核心原则

- KISS: 保持代码简单, 避免过度设计。
- DRY: 提取公共逻辑, 拒绝重复代码。
- 单一职责: 函数/类只做一件事, 保持短小。
- 注释: 复杂逻辑写 JSDoc, 解释“为什么”; 用 `// TODO:` 标记。

## 3. 通用开发习惯

- 先定义接口与数据契约, 再写实现。
- 提前考虑可扩展与解耦, 拒绝过度抽象。
- 变更最小化、提交原子化, 信息清晰。
- 依赖按需引入, 避免全量导入与隐式魔法。
- 配置用环境变量, 避免硬编码敏感信息。
- 复用: 公共逻辑抽到工具或模块。
- 性能: 避免早优化, 识别热路径后再治理。

## 4. AI 协作规范

- 指令: 明确任务目标、技术栈限制与输出格式。
- 上下文: 提供相关文件的完整代码而非片段。
- 审查: AI 生成的代码必须人工审查逻辑与安全性。
- 反馈: 及时纠正 AI 的错误假设, 验证结果后再合并。
